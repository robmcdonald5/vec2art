@import 'tailwindcss';

@layer base {
	:root {
		--background: 0 0% 100%;
		--foreground: 222.2 84% 4.9%;
		--card: 0 0% 100%;
		--card-foreground: 222.2 84% 4.9%;
		--popover: 0 0% 100%;
		--popover-foreground: 222.2 84% 4.9%;
		--primary: 222.2 47.4% 11.2%;
		--primary-foreground: 210 40% 98%;
		--secondary: 210 40% 96.1%;
		--secondary-foreground: 222.2 47.4% 11.2%;
		--muted: 210 40% 96.1%;
		--muted-foreground: 215.4 16.3% 46.9%;
		--accent: 210 40% 96.1%;
		--accent-foreground: 222.2 47.4% 11.2%;
		--destructive: 0 84.2% 60.2%;
		--destructive-foreground: 210 40% 98%;
		--border: 214.3 31.8% 91.4%;
		--input: 214.3 31.8% 91.4%;
		--ring: 222.2 84% 4.9%;
		--radius: 0.5rem;
	}

	.dark {
		--background: 222.2 84% 4.9%;
		--foreground: 210 40% 98%;
		--card: 222.2 84% 4.9%;
		--card-foreground: 210 40% 98%;
		--popover: 222.2 84% 4.9%;
		--popover-foreground: 210 40% 98%;
		--primary: 210 40% 98%;
		--primary-foreground: 222.2 47.4% 11.2%;
		--secondary: 217.2 32.6% 17.5%;
		--secondary-foreground: 210 40% 98%;
		--muted: 217.2 32.6% 17.5%;
		--muted-foreground: 215 20.2% 65.1%;
		--accent: 217.2 32.6% 17.5%;
		--accent-foreground: 210 40% 98%;
		--destructive: 0 62.8% 30.6%;
		--destructive-foreground: 210 40% 98%;
		--border: 217.2 32.6% 17.5%;
		--input: 217.2 32.6% 17.5%;
		--ring: 212.7 26.8% 83.9%;
	}
}

@layer base {
	* {
		border-color: hsl(var(--border));
	}

	body {
		background-color: hsl(var(--background));
		color: hsl(var(--foreground));
	}

	html {
		scroll-behavior: smooth;
	}
}

@layer components {
	/* Custom dropdown styling with glassmorphism effect */
	.dropdown-glassmorphism {
		@apply bg-white/80 dark:bg-black/40;
		backdrop-filter: blur(12px) saturate(150%);
		-webkit-backdrop-filter: blur(12px) saturate(150%);
	}

	/* Enhanced native select styling */
	.select-gradient {
		@apply 
			bg-gradient-to-r from-orange-50/80 to-red-50/80 
			dark:from-orange-950/40 dark:to-red-950/40
			border border-orange-200/60 dark:border-orange-700/40
			backdrop-blur-sm
			transition-all duration-200;
		background-blend-mode: overlay;
	}

	.select-gradient:focus {
		@apply 
			from-orange-100/90 to-red-100/90
			dark:from-orange-900/50 dark:to-red-900/50
			border-orange-400/80 dark:border-orange-500/60
			ring-2 ring-orange-500/30 ring-offset-0;
	}

	/* Custom dropdown option styling for custom components */
	.dropdown-option {
		@apply 
			px-4 py-3 
			text-gray-800 dark:text-gray-200
			transition-all duration-150
			border-b border-orange-100/20 dark:border-orange-800/20 
			last:border-b-0;
	}

	.dropdown-option:hover {
		@apply 
			bg-gradient-to-r from-orange-500/20 to-red-500/20 
			dark:from-orange-600/25 dark:to-red-600/25
			text-orange-900 dark:text-orange-100;
	}

	.dropdown-option:focus {
		@apply 
			bg-gradient-to-r from-orange-500/30 to-red-500/30
			dark:from-orange-600/35 dark:to-red-600/35
			outline-none ring-2 ring-inset ring-orange-500/50;
	}

	/* Dropdown menu container with depth */
	.dropdown-menu {
		@apply 
			bg-white/90 dark:bg-gray-900/90
			backdrop-blur-xl backdrop-saturate-150
			border border-orange-200/30 dark:border-orange-800/30
			rounded-xl shadow-2xl
			max-h-60 overflow-y-auto;
		box-shadow: 
			0 10px 40px rgba(251, 146, 60, 0.15),
			0 2px 10px rgba(0, 0, 0, 0.1);
	}

	/* Fallback for browsers without backdrop-filter support */
	@supports not (backdrop-filter: blur()) {
		.dropdown-glassmorphism {
			@apply bg-white/95 dark:bg-gray-900/95;
		}
		.dropdown-menu {
			@apply bg-white/98 dark:bg-gray-900/98;
		}
	}

	/* Custom scrollbar for dropdown menus */
	.dropdown-menu::-webkit-scrollbar {
		@apply w-2;
	}

	.dropdown-menu::-webkit-scrollbar-track {
		@apply bg-transparent;
	}

	.dropdown-menu::-webkit-scrollbar-thumb {
		@apply bg-orange-300/50 dark:bg-orange-700/50 rounded-full;
	}

	.dropdown-menu::-webkit-scrollbar-thumb:hover {
		@apply bg-orange-400/70 dark:bg-orange-600/70;
	}

	/* Additional select dropdown styling for better cross-browser support */
	select.select-gradient {
		color-scheme: light;
	}

	.dark select.select-gradient {
		color-scheme: dark;
	}

	/* Force dropdown option styling on supported browsers */
	select.select-gradient optgroup {
		background: linear-gradient(to right, rgba(251, 146, 60, 0.08), rgba(239, 68, 68, 0.08)) !important;
		color: rgb(55, 65, 81) !important;
	}

	.dark select.select-gradient optgroup {
		background: linear-gradient(to right, rgba(251, 146, 60, 0.06), rgba(239, 68, 68, 0.06)) !important;
		color: rgb(229, 231, 235) !important;
	}

	/* Enhanced native select option styling (limited by browser) */
	.select-gradient option {
		@apply text-gray-800 dark:text-gray-200 py-2;
		background: linear-gradient(to right, rgba(251, 146, 60, 0.08), rgba(239, 68, 68, 0.08)) !important;
		color: rgb(55, 65, 81) !important;
		border: none !important;
		padding: 8px 12px !important;
	}

	.dark .select-gradient option {
		background: linear-gradient(to right, rgba(251, 146, 60, 0.06), rgba(239, 68, 68, 0.06)) !important;
		color: rgb(229, 231, 235) !important;
	}

	.select-gradient option:hover,
	.select-gradient option:focus {
		background: linear-gradient(to right, rgba(251, 146, 60, 0.15), rgba(239, 68, 68, 0.15)) !important;
		color: rgb(194, 65, 12) !important;
	}

	.dark .select-gradient option:hover,
	.dark .select-gradient option:focus {
		background: linear-gradient(to right, rgba(251, 146, 60, 0.12), rgba(239, 68, 68, 0.12)) !important;
		color: rgb(251, 146, 60) !important;
	}

	/* Select dropdown appearance customization */
	.select-gradient {
		appearance: none;
		-webkit-appearance: none;
		-moz-appearance: none;
		background-image: 
			linear-gradient(to right, rgba(251, 146, 60, 0.1), rgba(239, 68, 68, 0.1)),
			url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23fb923c'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
		background-repeat: no-repeat;
		background-position: right 0.5rem center, right 0.5rem center;
		background-size: auto, 1.5rem;
		padding-right: 2.5rem;
		outline: none !important;
		border: 1px solid rgba(251, 146, 60, 0.3) !important;
	}

	.dark .select-gradient {
		background-image: 
			linear-gradient(to right, rgba(251, 146, 60, 0.05), rgba(239, 68, 68, 0.05)),
			url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23fb923c'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
		border: 1px solid rgba(251, 146, 60, 0.2) !important;
	}

	/* Remove focus outline and add custom focus styling */
	.select-gradient:focus {
		outline: none !important;
		border: 1px solid rgba(251, 146, 60, 0.6) !important;
		box-shadow: 0 0 0 3px rgba(251, 146, 60, 0.1) !important;
	}

	.dark .select-gradient:focus {
		border: 1px solid rgba(251, 146, 60, 0.5) !important;
		box-shadow: 0 0 0 3px rgba(251, 146, 60, 0.08) !important;
	}

	/* Hover state for select */
	.select-gradient:hover:not(:disabled) {
		@apply 
			from-orange-100/90 to-red-100/90
			dark:from-orange-900/50 dark:to-red-900/50;
		border: 1px solid rgba(251, 146, 60, 0.5) !important;
	}

	.dark .select-gradient:hover:not(:disabled) {
		border: 1px solid rgba(251, 146, 60, 0.4) !important;
	}

	/* Browser-specific dropdown styling */
	.select-gradient::-webkit-appearance {
		-webkit-appearance: none !important;
	}

	.select-gradient::-moz-appearance {
		-moz-appearance: none !important;
	}

	/* Try to style the dropdown list on WebKit browsers */
	@supports (-webkit-appearance: none) {
		.select-gradient {
			-webkit-appearance: none;
		}
		
		.select-gradient option {
			background-color: rgba(251, 146, 60, 0.05) !important;
			color: rgb(55, 65, 81) !important;
		}
		
		.select-gradient option:checked {
			background-color: rgba(251, 146, 60, 0.2) !important;
			color: rgb(194, 65, 12) !important;
		}
	}

	/* Firefox-specific styling */
	@-moz-document url-prefix() {
		.select-gradient {
			-moz-appearance: none;
			background-image: 
				linear-gradient(to right, rgba(251, 146, 60, 0.1), rgba(239, 68, 68, 0.1)),
				url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23fb923c'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E") !important;
		}
		
		.select-gradient option {
			background-color: rgba(251, 146, 60, 0.05) !important;
			color: rgb(55, 65, 81) !important;
			border: none !important;
		}
		
		.select-gradient option:hover {
			background-color: rgba(251, 146, 60, 0.15) !important;
			color: rgb(194, 65, 12) !important;
		}
	}

	/* Edge/IE specific styling */
	.select-gradient::-ms-expand {
		display: none;
	}

	/* Safari specific improvements */
	@media screen and (-webkit-min-device-pixel-ratio: 0) {
		.select-gradient {
			-webkit-appearance: none;
			background-attachment: fixed;
		}
		
		.select-gradient option {
			background: rgba(251, 146, 60, 0.05);
			color: rgb(55, 65, 81);
		}
		
		.select-gradient option:hover,
		.select-gradient option:focus,
		.select-gradient option:active {
			background: rgba(251, 146, 60, 0.15) !important;
			color: rgb(194, 65, 12) !important;
		}
	}
}
